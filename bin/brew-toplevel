#!/usr/bin/env perl

use 5.14.0;
use warnings;

my @formulae;
my %inclusions;

for (qx( brew deps --installed )) {
    chomp;

    my ($formula, @deps) = /([-\/\w]+)/g;

    $formula =~ s{^.*/}{};

    push(@formulae, $formula);
    $inclusions{$_}++ for @deps;
}
die "$!" if $? != 0;

say for grep { !$inclusions{$_} } sort @formulae;
